<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LabPack-C: LabPack-C: A LabVIEW-Friendly C library for encoding and decoding MessagePack data</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">LabPack-C
   &#160;<span id="projectnumber">0.1.0</span>
   </div>
   <div id="projectbrief">A LabVIEW-friendly C library for encoding and decoding MessagePack data.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">LabPack-C: A LabVIEW-Friendly C library for encoding and decoding MessagePack data </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>What is LabPack-C?</h2>
<p>The LabPack-C project is a <a href="http://www.ni.com/labview">LabVIEW</a>-friendly C library for encoding and decoding <a href="http://www.msgpack.org">MessagePack</a> data. The library is intended to be used with the <a href="http://zone.ni.com/reference/en-XX/help/371361P-01/glang/call_library_function/">Call Library Function</a> node. This provides MessagePack encoding and decoding functionality to LabVIEW as a Dynamic Link Library (DLL, Windows), Dynamic Library (Dylib, macOS), and/or Shared Object (SO, Linux).</p>
<h2>Install</h2>
<p>A single ZIP archive containing the pre-compiled/built shared libraries for all of the platforms listed in the <a href="#build">Build</a> section is provided with each <a href="https://github.com/fieldrndservices/labpack-c/releases">release</a>.</p>
<ol type="1">
<li>Download the ZIP archive for the latest release. Note, this is <em>not</em> the source code ZIP file. The ZIP archive containing the pre-compiled/built shared libraries will be labeled: <code>labpack-c_#.#.#.zip</code>, where <code>#.#.#</code> is the version number for the release.</li>
<li>Extract, or unzip, the ZIP archive.</li>
<li>Copy and paste all or the platform-specific shared libraries to one of the following locations on disk:</li>
</ol>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Platform  </th><th class="markdownTableHeadNone">Destination   </th></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Windows  </td><td class="markdownTableBodyNone"><code>C:\Windows\System32</code>   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">macOS  </td><td class="markdownTableBodyNone"><code>/usr/local/lib</code>   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Linux  </td><td class="markdownTableBodyNone"><code>/usr/local/lib</code>   </td></tr>
<tr class="markdownTableBody" class="markdownTableRowEven">
<td class="markdownTableBodyNone">NI Linux RT  </td><td class="markdownTableBodyNone"><code>/usr/local/lib</code>   </td></tr>
</table>
<h2>Build</h2>
<p>Ensure all of the following dependencies are installed and up-to-date before proceeding:</p>
<ul>
<li><a href="https://cmake.org/">CMake 3.9.x</a>, or newer</li>
<li><a href="https://www.visualstudio.com/downloads/#build-tools-for-visual-studio-2017">Microsoft Visual C++ Build Tools 2017</a>, Windows Only</li>
<li><a href="https://developer.apple.com/xcode/features/">XCode Command Line Tools</a>, macOS Only</li>
<li><a href="https://git-scm.com/">Git</a></li>
<li><a href="http://www.ni.com/download/labview-real-time-module-2017/6731/en/">C/C++ Development Tools for NI Linux Real-Time, Eclipse Edition 2017</a>, NI Linux RT only</li>
</ul>
<h3>Windows</h3>
<p>The <a href="https://www.visualstudio.com/downloads/#build-tools-for-visual-studio-2017">Microsoft Visual C++ Build Tools 2017</a> should have installed a <code>x64 Native Build Tools</code> command prompt. Start the <code>x64 Native Build Tools</code> command prompt. This ensures the appropriate C compiler is available to CMake to build the library. Run the following commands to obtain a copy of the source code and build both the 32-bit and 64-bit DLLs with a <code>Release</code> configuration: </p><pre class="fragment">&gt; git clone https://github.com/fieldrndservices/labpack-c.git LabPack-C
&gt; cd LabPack-c
&gt; build.bat
</pre><p>The DLLs will be available in the <code>build32\bin</code> and <code>build64\bin</code> folders.</p>
<h3>macOS</h3>
<p>Ensure the command-line tools for <a href="https://developer.apple.com/xcode/">XCode</a> have been installed along with <a href="https://git-scm.com/">git</a> before proceeding. Start the Terminal.app. Run the following commands to obtain a copy of the source code from the repository and build the dynamic library (dylib): </p><pre class="fragment">$ git clone https://github.com/fieldrndservices/labpack-c.git LabPack-C
$ cd LabPack-C
$ mkdir build &amp;&amp; cd build
$ cmake ..
$ cd ..
$ cmake --build build --config Release
</pre><p>The dynamic library (.dylib) will be available in the <code>build/bin</code> folder.</p>
<h3>Linux</h3>
<p>If running on Ubuntu or similar distribution, ensure the <a href="https://packages.ubuntu.com/trusty/build-essential">build-essential</a>, <a href="https://packages.ubuntu.com/trusty/cmake">cmake</a>, and <a href="https://packages.ubuntu.com/trusty/git">git</a> packages are installed before proceeding. These can be installed with the following command from a terminal: </p><pre class="fragment">$ sudo apt-get install build-essential cmake git
</pre><p>Start a terminal, and run the following commands to obtain a copy of the source code from the repository and build the shared object (so): </p><pre class="fragment">$ git clone https://github.com/fieldrndservices/labpack-c.git
$ cd labpack-c
$ mkdir build &amp;&amp; cd build
$ cmake ..
$ cd ..
$ cmake --build build --config Release
</pre><p>The shared object (.so) will be available in the <code>build/bin</code> folder.</p>
<h3>NI Linux RT</h3>
<p>NI provides a cross-compiler for their Real-Time (RT) Linux distribution. Before proceeding, download and install the <a href="http://www.ni.com/download/labview-real-time-module-2017/6731/en/">C/C++ Development Tools for NI Linux Real-Time, Eclipse Edition 2017</a>. It is also best to review the <a href="http://www.ni.com/tutorial/14625/en/">Getting Stared with C/C++ Development Tools for NI Linux Real-Time, Eclipse Edition</a> guide for more general information about configuring the internal builder.</p>
<ol type="1">
<li>Start NI Eclipse. A <em>Workspace Launcher</em> dialog may appear. Use the default.</li>
<li>A welcome screen may appear after the application has loaded. Close the welcome screen.</li>
<li>Right-click in the <em>Project Explorer</em> on the left and select <em>Import</em> from the context menu that appears. A new dialog will appear.</li>
<li>Select <code>Git-&gt;Projects from Git</code> from the dialog that appears. Click the <em>Next &gt;</em> button. A new page will appear.</li>
<li>Select the <code>Clone URI</code> from the list that appears in the new page of the dialog. Click the <em>Next &gt;</em> button. A new page will appear.</li>
<li>Enter the URI for the git repository in the <em>URI:</em> field, i.e. <code><a href="https://github.com/fieldrndservices/labpack-c.git">https://github.com/fieldrndservices/labpack-c.git</a></code>. The <em>Host:</em> and <em>Repository path:</em> fields will populate automatically. Click the <em>Next &gt;</em> button. A new page will appear.</li>
<li>Ensure only the <code>master</code> checkbox is checked in the <em>Branch Selection</em> page of the <em>Import Projects from Git</em> dialog. Click the <em>Next &gt;</em> button. A new page will appear.</li>
<li>Browse to the workspace directory for NI Eclipse to populate the <em>Directory:</em> field. Leave all other fields as the defaults. Click the <em>Next &gt;</em> button. A new page will appear.</li>
<li>Select the <code>Import existing projects</code> radio button from the options under the <em>Wizard for project import</em> section. Click the <em>Next &gt;</em> button. A new page will appear.</li>
<li>Click the <em>Finish</em> button. No changes are needed on the <em>Import Projects</em> page. A new <code>labpack-c</code> project should appear in the <em>Project Explorer</em>.</li>
<li>Click the <em>Build</em> toolbar button (icon is a small hammer) to build the NI Linux RT x86_64-based shared object (so).</li>
<li>Click the drop-down menu next to the <em>Build</em> toolbar button and select the <code>ARM</code> build configuration. This will build the NI Linux RT ARM-based shared object (so).</li>
</ol>
<p>Note, steps 3-10 only need to be done once to setup the project. The <code>liblabpack-rt.so</code> will be located in the <code>x86_64</code> folder under the project's root folder inside the Eclipse workspace folder, and the <code>liblabpack-arm-rt.so</code> will be located in the <code>ARM</code> folder under the project's root folder inside the Eclipse workspace folder.</p>
<h2>Tests</h2>
<p>All of the tests are located in the <code>tests</code> folder. The tests are organized in "modules", where an executable is created that tests each source "module", i.e. writer, reader, etc. The tests are separated from the source, but the tests are built as part of build for the shared library. Each test executable is located in the <code>bin\tests</code> folder of the build directory and they can be run independently.</p>
<p>If the <code>ctest</code>, or <code>make test</code> on non-Windows systems, commands are used <em>after</em> building the tests to run the tests, then the <a href="https://cmake.org/Wiki/CMake/Testing_With_CTest">ctest</a> test runner framework is used to run the tests. This provides a very high level summary of the results of running all tests. Since the tests are organized into "modules" and suites, the <a href="https://cmake.org/cmake/help/v3.9/manual/ctest.1.html">ctest</a> command only indicates that a test within a module and suite has failed. It does <em>not</em> indicate which test has failed. To investigate the failed test, the executable in the <code>bin\tests</code> folder for test module should be run. For example, if a test in the writer module failed, the ctest test runner will indicate the "writer" test has failed. The <code>bin\tests\writer</code> executable should then be run as a standalone application without the ctest test runner to obtain information about which test and assertion failed.</p>
<h3>Windows</h3>
<p>Start a terminal command prompt and navigate to the root folder of the project. Note, if following from the <a href="#build">Build</a> instructions, a command prompt should already be available at the root folder of the project. Enter the following commands to run the tests:</p>
<div class="fragment"><div class="line">&gt; ctest -C &quot;Debug&quot;</div></div><!-- fragment --><p>Or</p>
<div class="fragment"><div class="line">&gt; bin\reader</div><div class="line">&gt; bin\writer</div><div class="line">&gt; bin\status</div></div><!-- fragment --><h3>macOS</h3>
<p>Start the Terminal.app. Note, if following from the <a href="#build">Build</a> instructions, the Terminal.app has already been started and the present working directory (pwd) should already be the root folder of the project. Enter the following commands to run the tests: </p><pre class="fragment">$ ctest
</pre><p>Or, </p><pre class="fragment">$ bin/tests/reader
$ bin/tests/writer
$ bin/tests/status
</pre><p>Or, </p><pre class="fragment">$ make test
</pre><h3>Linux</h3>
<p>Start a terminal. Note, if following from the <a href="#build">Build</a> instructions, the terminal has already been started and the present working directory (pwd) should already be the root folder of the project. Enter the following commands to run the tests: </p><pre class="fragment">$ ctest
</pre><p>Or, </p><pre class="fragment">$ bin/tests/reader
$ bin/tests/writer
$ bin/tests/status
</pre><p>Or, </p><pre class="fragment">$ make test
</pre><h2>License</h2>
<p>Copyright (c) 2017 Field R&amp;D Services, LLC.</p>
<p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p>
<ol type="1">
<li>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.</li>
<li>Neither the name of the Field R&amp;D Services nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.</li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY Field R&amp;D Services, LLC ''AS IS'' AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL Field R&amp;D Services, LLC BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
<p>Third-party maintained and licensed projects used by LabPack include:</p>
<ul>
<li>mpack: Copyright (c) 2015-2016 Nicholas Fraser</li>
<li>minunit: Copyright (c) 2012 David Siñuela Pastor</li>
</ul>
<h3>mpack: A C encoder/decoder for the MessagePack serialization format</h3>
<p>Copyright (c) 2015-2016 Nicholas Fraser <a href="https://github.com/ludocode/mpack">https://github.com/ludocode/mpack</a></p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>
<h3>minunit - Minimal unit testing framework for C</h3>
<p>Copyright (c) 2012 David Siñuela Pastor <a href="https://github.com/siu/minunit">https://github.com/siu/minunit</a></p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
